# ç®€ä»‹

Solidity æ˜¯ä¸€é—¨é¢å‘åˆçº¦çš„ã€ä¸ºå®ç°æ™ºèƒ½åˆçº¦è€Œåˆ›å»ºçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ã€‚è¿™é—¨è¯­è¨€å—åˆ°äº† C++ï¼ŒPython å’Œ Javascript è¯­è¨€çš„å½±å“ï¼Œè®¾è®¡çš„ç›®çš„æ˜¯èƒ½åœ¨ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ä¸Šè¿è¡Œã€‚



# ç±»å‹

## å€¼ç±»å‹

### bool

å¯èƒ½çš„å–å€¼ä¸ºå­—é¢å¸¸é‡å€¼ `true` å’Œ `false` ã€‚

### æ•´å‹

`int` / `uint` ï¼šåˆ†åˆ«è¡¨ç¤ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„ä¸åŒä½æ•°çš„æ•´å‹å˜é‡ã€‚ æ”¯æŒå…³é”®å­— `uint8` åˆ° `uint256` ï¼ˆæ— ç¬¦å·ï¼Œä» 8 ä½åˆ° 256 ä½ï¼‰ä»¥åŠ `int8` åˆ° `int256`ï¼Œä»¥ `8` ä½ä¸ºæ­¥é•¿é€’å¢ã€‚ `uint` å’Œ `int` åˆ†åˆ«æ˜¯ `uint256` å’Œ `int256` çš„åˆ«åã€‚

### å®šé•¿æµ®ç‚¹å‹

`fixed` / `ufixed`ï¼šè¡¨ç¤ºå„ç§å¤§å°çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·çš„å®šé•¿æµ®ç‚¹å‹ã€‚ åœ¨å…³é”®å­— `ufixedMxN` å’Œ `fixedMxN` ä¸­ï¼Œ`M` è¡¨ç¤ºè¯¥ç±»å‹å ç”¨çš„ä½æ•°ï¼Œ`N` è¡¨ç¤ºå¯ç”¨çš„å°æ•°ä½æ•°ã€‚ `M` å¿…é¡»èƒ½æ•´é™¤ 8ï¼Œå³ 8 åˆ° 256 ä½ã€‚ `N` åˆ™å¯ä»¥æ˜¯ä» 0 åˆ° 80 ä¹‹é—´çš„ä»»æ„æ•°ã€‚ `ufixed` å’Œ `fixed` åˆ†åˆ«æ˜¯ `ufixed128x19` å’Œ `fixed128x19` çš„åˆ«åã€‚

### åœ°å€ç±»å‹ Address

åœ°å€ç±»å‹æœ‰ä¸¤ç§å½¢å¼ï¼Œä»–ä»¬å¤§è‡´ç›¸åŒï¼š

> - `address`ï¼šä¿å­˜ä¸€ä¸ª20å­—èŠ‚çš„å€¼ï¼ˆä»¥å¤ªåŠåœ°å€çš„å¤§å°ï¼‰ã€‚
> - `address payable` ï¼šå¯æ”¯ä»˜åœ°å€ï¼Œä¸ `address` ç›¸åŒï¼Œä¸è¿‡æœ‰æˆå‘˜å‡½æ•° `transfer` å’Œ `send` ã€‚

è¿™ç§åŒºåˆ«èƒŒåçš„æ€æƒ³æ˜¯ `address payable` å¯ä»¥æ¥å—ä»¥å¤ªå¸çš„åœ°å€ï¼Œè€Œä¸€ä¸ªæ™®é€šçš„ `address` åˆ™ä¸èƒ½ã€‚

ç±»å‹è½¬æ¢:

å…è®¸ä» `address payable` åˆ° `address` çš„éšå¼è½¬æ¢ï¼Œè€Œä» `address` åˆ° `address payable` å¿…é¡»æ˜¾ç¤ºçš„è½¬æ¢, é€šè¿‡ `payable(<address>)` è¿›è¡Œè½¬æ¢ã€‚

`address` å…è®¸å’Œ `uint160`ã€ æ•´å‹å­—é¢å¸¸é‡ã€`bytes20` åŠåˆçº¦ç±»å‹ç›¸äº’è½¬æ¢ã€‚

åªèƒ½é€šè¿‡ `payable(...)` è¡¨è¾¾å¼æŠŠ `address` ç±»å‹å’Œåˆçº¦ç±»å‹è½¬æ¢ä¸º `address payable`ã€‚ åªæœ‰èƒ½æ¥æ”¶ä»¥å¤ªå¸çš„åˆçº¦ç±»å‹ï¼Œæ‰èƒ½å¤Ÿè¿›è¡Œæ­¤è½¬æ¢ã€‚ä¾‹å¦‚åˆçº¦è¦ä¹ˆæœ‰ `receive` æˆ–å¯æ”¯ä»˜çš„å›é€€å‡½æ•°ã€‚ æ³¨æ„ `payable(0)` æ˜¯æœ‰æ•ˆçš„ï¼Œè¿™æ˜¯æ­¤è§„åˆ™çš„ä¾‹å¤–ã€‚

### åˆçº¦ç±»å‹

æ¯ä¸€ä¸ª `contract`å®šä¹‰éƒ½æœ‰ä»–è‡ªå·±çš„ç±»å‹ã€‚

æ‚¨å¯ä»¥éšå¼åœ°å°†åˆçº¦è½¬æ¢ä¸ºä»ä»–ä»¬ç»§æ‰¿çš„åˆçº¦ã€‚ åˆçº¦å¯ä»¥æ˜¾å¼è½¬æ¢ä¸º `address` ç±»å‹ã€‚

åªæœ‰å½“åˆçº¦å…·æœ‰ æ¥æ”¶receiveå‡½æ•° æˆ– payable å›é€€å‡½æ•°æ—¶ï¼Œæ‰èƒ½æ˜¾å¼å’Œ `address payable` ç±»å‹ç›¸äº’è½¬æ¢ è½¬æ¢ä»ç„¶ä½¿ç”¨ `address(x)` æ‰§è¡Œï¼Œ å¦‚æœåˆçº¦ç±»å‹æ²¡æœ‰æ¥æ”¶æˆ–payable å›é€€åŠŸèƒ½ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ `payable(address(x))` è½¬æ¢ä¸º `address payable` ã€‚

### å®šé•¿å­—èŠ‚æ•°ç»„

`bytes1`ï¼Œ `bytes2`ï¼Œ `bytes3`ï¼Œ â€¦ï¼Œ `bytes32`ã€‚

### å˜é•¿å­—èŠ‚æ•°ç»„

- `bytes`:

  å˜é•¿å­—èŠ‚æ•°ç»„ï¼Œå®ƒå¹¶ä¸æ˜¯å€¼ç±»å‹ã€‚

- `string`:

  å˜é•¿ UTF-8 ç¼–ç å­—ç¬¦ä¸²ç±»å‹ï¼Œå¹¶ä¸æ˜¯å€¼ç±»å‹ã€‚

### åœ°å€å­—é¢å¸¸é‡

### æœ‰ç†æ•°å’Œæ•´æ•°å­—é¢å¸¸é‡

æ•´æ•°å­—é¢å¸¸é‡ç”±èŒƒå›´åœ¨ 0-9 çš„ä¸€ä¸²æ•°å­—ç»„æˆï¼Œè¡¨ç°æˆåè¿›åˆ¶ã€‚ ä¾‹å¦‚ï¼Œ69 è¡¨ç¤ºæ•°å­— 69ã€‚ Solidity ä¸­æ˜¯æ²¡æœ‰å…«è¿›åˆ¶çš„ï¼Œå› æ­¤å‰ç½® 0 æ˜¯æ— æ•ˆçš„ã€‚

å­—ç¬¦ä¸²å­—é¢å¸¸é‡æ˜¯æŒ‡ç”±åŒå¼•å·æˆ–å•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆ`"foo"` æˆ–è€… `'bar'`ï¼‰ã€‚ å®ƒä»¬ä¹Ÿå¯ä»¥åˆ†ä¸ºå¤šä¸ªè¿ç»­çš„éƒ¨åˆ†ï¼ˆ`"foo" "bar"` ç­‰æ•ˆäº`â€foobarâ€`ï¼‰

å­—ç¬¦ä¸²å­—é¢å¸¸é‡åªèƒ½åŒ…å«å¯æ‰“å°çš„ASCIIå­—ç¬¦ï¼Œè¿™æ„å‘³ç€ä»–æ˜¯ä»‹äº0x1Få’Œ0x7Eä¹‹é—´çš„å­—ç¬¦ã€‚

### Unicode å­—é¢å¸¸é‡

å¸¸è§„å­—ç¬¦ä¸²æ–‡å­—åªèƒ½åŒ…å«ASCIIï¼Œè€ŒUnicodeæ–‡å­—ï¼ˆä»¥å…³é”®å­—unicodeä¸ºå‰ç¼€ï¼‰å¯ä»¥åŒ…å«ä»»ä½•æœ‰æ•ˆçš„UTF-8åºåˆ—ã€‚ å®ƒä»¬è¿˜æ”¯æŒä¸è½¬ä¹‰åºåˆ—å®Œå…¨ç›¸åŒçš„å­—ç¬¦ä½œä¸ºå¸¸è§„å­—ç¬¦ä¸²æ–‡å­—ã€‚

```sol
string memory a = unicode"Hello ğŸ˜ƒ";
```

### æšä¸¾ç±»å‹

æšä¸¾æ˜¯åœ¨Solidityä¸­åˆ›å»ºç”¨æˆ·å®šä¹‰ç±»å‹çš„ä¸€ç§æ–¹æ³•ã€‚ å®ƒä»¬æ˜¯æ˜¾ç¤ºæ‰€æœ‰æ•´å‹ç›¸äº’è½¬æ¢ï¼Œä½†ä¸å…è®¸éšå¼è½¬æ¢ã€‚ ä»æ•´å‹æ˜¾å¼è½¬æ¢æšä¸¾ï¼Œä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥æ•´æ•°æ—¶å€™åœ¨æšä¸¾èŒƒå›´å†…ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¼‚å¸¸ï¼ˆ Panicå¼‚å¸¸ï¼‰ã€‚ æšä¸¾éœ€è¦è‡³å°‘ä¸€ä¸ªæˆå‘˜,é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œæšä¸¾ä¸èƒ½å¤šäº 256 ä¸ªæˆå‘˜ã€‚

### å‡½æ•°ç±»å‹

å‡½æ•°ç±»å‹æ˜¯ä¸€ç§è¡¨ç¤ºå‡½æ•°çš„ç±»å‹ã€‚å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™å¦ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œè¿˜èƒ½åœ¨å‡½æ•°è°ƒç”¨ä¸­è¿”å›å‡½æ•°ç±»å‹å˜é‡ã€‚ å‡½æ•°ç±»å‹æœ‰ä¸¤ç±»ï¼š

> - *å†…éƒ¨ï¼ˆinternalï¼‰* å‡½æ•°ç±»å‹
> - *å¤–éƒ¨ï¼ˆexternalï¼‰* å‡½æ•°ç±»å‹

å†…éƒ¨å‡½æ•°åªèƒ½åœ¨å½“å‰åˆçº¦å†…è¢«è°ƒç”¨ï¼ˆæ›´å…·ä½“æ¥è¯´ï¼Œåœ¨å½“å‰ä»£ç å—å†…ï¼ŒåŒ…æ‹¬å†…éƒ¨åº“å‡½æ•°å’Œç»§æ‰¿çš„å‡½æ•°ä¸­ï¼‰ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½åœ¨å½“å‰åˆçº¦ä¸Šä¸‹æ–‡çš„å¤–éƒ¨è¢«æ‰§è¡Œã€‚ è°ƒç”¨ä¸€ä¸ªå†…éƒ¨å‡½æ•°æ˜¯é€šè¿‡è·³è½¬åˆ°å®ƒçš„å…¥å£æ ‡ç­¾æ¥å®ç°çš„ï¼Œå°±åƒåœ¨å½“å‰åˆçº¦çš„å†…éƒ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°ã€‚

å¤–éƒ¨å‡½æ•°ç”±ä¸€ä¸ªåœ°å€å’Œä¸€ä¸ªå‡½æ•°ç­¾åç»„æˆï¼Œå¯ä»¥é€šè¿‡å¤–éƒ¨å‡½æ•°è°ƒç”¨ä¼ é€’æˆ–è€…è¿”å›ã€‚

```sol
function (<parameter types>) {internal|external} [pure|constant|view|payable] [returns (<return types>)]
```

